console.log("Hi Haley");

var data_all = {'data_init': [{"user_id":1,"value":"a"},{"user_id":2,"value":"a"},{"user_id":3,"value":"c"},{"user_id":4,"value":"a"},{"user_id":5,"value":"a"},{"user_id":6,"value":"a"},{"user_id":7,"value":"a"},{"user_id":8,"value":"a"},{"user_id":9,"value":"b"},{"user_id":10,"value":"c"},{"user_id":11,"value":"a"},{"user_id":12,"value":"a"},{"user_id":13,"value":"a"},{"user_id":14,"value":"a"},{"user_id":15,"value":"b"},{"user_id":16,"value":"b"},{"user_id":17,"value":"c"},{"user_id":18,"value":"b"},{"user_id":19,"value":"a"},{"user_id":20,"value":"a"},{"user_id":21,"value":"b"},{"user_id":22,"value":"b"},{"user_id":23,"value":"b"},{"user_id":24,"value":"a"},{"user_id":25,"value":"a"},{"user_id":26,"value":"b"},{"user_id":27,"value":"a"},{"user_id":28,"value":"a"},{"user_id":29,"value":"a"},{"user_id":30,"value":"b"},{"user_id":31,"value":"a"},{"user_id":32,"value":"b"},{"user_id":33,"value":"a"},{"user_id":34,"value":"b"},{"user_id":35,"value":"b"},{"user_id":36,"value":"a"},{"user_id":37,"value":"d"},{"user_id":38,"value":"d"},{"user_id":39,"value":"b"},{"user_id":40,"value":"b"},{"user_id":41,"value":"a"},{"user_id":42,"value":"e"},{"user_id":43,"value":"b"},{"user_id":44,"value":"e"},{"user_id":45,"value":"c"},{"user_id":46,"value":"e"},{"user_id":47,"value":"b"},{"user_id":48,"value":"a"},{"user_id":49,"value":"a"},{"user_id":50,"value":"a"},{"user_id":51,"value":"c"},{"user_id":52,"value":"b"},{"user_id":53,"value":"b"},{"user_id":54,"value":"c"},{"user_id":55,"value":"a"},{"user_id":56,"value":"b"},{"user_id":57,"value":"b"},{"user_id":58,"value":"e"},{"user_id":59,"value":"a"},{"user_id":60,"value":"a"},{"user_id":61,"value":"b"},{"user_id":62,"value":"c"},{"user_id":63,"value":"a"},{"user_id":64,"value":"a"},{"user_id":65,"value":"a"},{"user_id":66,"value":"a"},{"user_id":67,"value":"b"},{"user_id":68,"value":"a"},{"user_id":69,"value":"a"},{"user_id":70,"value":"a"},{"user_id":71,"value":"a"},{"user_id":72,"value":"b"},{"user_id":73,"value":"d"},{"user_id":74,"value":"b"},{"user_id":75,"value":"e"},{"user_id":76,"value":"b"},{"user_id":77,"value":"b"},{"user_id":78,"value":"d"},{"user_id":79,"value":"a"},{"user_id":80,"value":"a"},{"user_id":81,"value":"a"},{"user_id":82,"value":"b"},{"user_id":83,"value":"d"},{"user_id":84,"value":"a"},{"user_id":85,"value":"b"},{"user_id":86,"value":"a"},{"user_id":87,"value":"d"},{"user_id":88,"value":"c"},{"user_id":89,"value":"a"},{"user_id":90,"value":"a"},{"user_id":91,"value":"b"},{"user_id":92,"value":"a"},{"user_id":93,"value":"b"},{"user_id":94,"value":"b"},{"user_id":95,"value":"e"},{"user_id":96,"value":"d"},{"user_id":97,"value":"c"},{"user_id":98,"value":"a"},{"user_id":99,"value":"b"},{"user_id":100,"value":"a"}], 'data_new': [{"user_id":101,"value":"a"},{"user_id":102,"value":"b"},{"user_id":103,"value":"c"},{"user_id":104,"value":"a"},{"user_id":105,"value":"c"},{"user_id":106,"value":"b"},{"user_id":107,"value":"c"},{"user_id":108,"value":"a"},{"user_id":109,"value":"b"},{"user_id":110,"value":"e"},{"user_id":111,"value":"a"},{"user_id":112,"value":"a"},{"user_id":113,"value":"a"},{"user_id":114,"value":"b"},{"user_id":115,"value":"d"},{"user_id":116,"value":"d"},{"user_id":117,"value":"c"},{"user_id":118,"value":"e"},{"user_id":119,"value":"a"},{"user_id":120,"value":"b"},{"user_id":121,"value":"b"},{"user_id":122,"value":"e"},{"user_id":123,"value":"e"},{"user_id":124,"value":"c"},{"user_id":125,"value":"b"},{"user_id":126,"value":"c"},{"user_id":127,"value":"c"},{"user_id":128,"value":"b"},{"user_id":129,"value":"a"},{"user_id":130,"value":"b"},{"user_id":131,"value":"b"},{"user_id":132,"value":"a"},{"user_id":133,"value":"e"},{"user_id":134,"value":"a"},{"user_id":135,"value":"c"},{"user_id":136,"value":"a"},{"user_id":137,"value":"d"},{"user_id":138,"value":"e"},{"user_id":139,"value":"b"},{"user_id":140,"value":"d"},{"user_id":141,"value":"a"},{"user_id":142,"value":"a"},{"user_id":143,"value":"d"},{"user_id":144,"value":"d"},{"user_id":145,"value":"a"},{"user_id":146,"value":"d"},{"user_id":147,"value":"a"},{"user_id":148,"value":"e"},{"user_id":149,"value":"a"},{"user_id":150,"value":"e"},{"user_id":151,"value":"d"},{"user_id":152,"value":"a"},{"user_id":153,"value":"d"},{"user_id":154,"value":"b"},{"user_id":155,"value":"b"},{"user_id":156,"value":"c"},{"user_id":157,"value":"b"},{"user_id":158,"value":"a"},{"user_id":159,"value":"b"},{"user_id":160,"value":"d"},{"user_id":161,"value":"e"},{"user_id":162,"value":"e"},{"user_id":163,"value":"a"},{"user_id":164,"value":"c"},{"user_id":165,"value":"a"},{"user_id":166,"value":"a"},{"user_id":167,"value":"a"},{"user_id":168,"value":"a"},{"user_id":169,"value":"b"},{"user_id":170,"value":"d"},{"user_id":171,"value":"a"},{"user_id":172,"value":"a"},{"user_id":173,"value":"c"},{"user_id":174,"value":"d"},{"user_id":175,"value":"b"},{"user_id":176,"value":"b"},{"user_id":177,"value":"b"},{"user_id":178,"value":"a"},{"user_id":179,"value":"d"},{"user_id":180,"value":"d"},{"user_id":181,"value":"a"},{"user_id":182,"value":"b"},{"user_id":183,"value":"b"},{"user_id":184,"value":"c"},{"user_id":185,"value":"b"},{"user_id":186,"value":"d"},{"user_id":187,"value":"d"},{"user_id":188,"value":"b"},{"user_id":189,"value":"d"},{"user_id":190,"value":"c"},{"user_id":191,"value":"b"},{"user_id":192,"value":"b"},{"user_id":193,"value":"e"},{"user_id":194,"value":"d"},{"user_id":195,"value":"b"},{"user_id":196,"value":"b"},{"user_id":197,"value":"b"},{"user_id":198,"value":"a"},{"user_id":199,"value":"d"},{"user_id":200,"value":"a"}]};




document.addEventListener("DOMContentLoaded", function(event){


  var data_choice = document.querySelector("[name=demo-aggregate-dataset]");
  var data_text = document.querySelector("[name=demo-aggregate-data]");

  // define function to call
  function on_data() {
    // get a local dataset
    var data_local = data_all[data_choice.value];

    // change Vega chart
    Vegawidget.findViewPromise('#demo-aggregate').then(function(view) {
      var changeSet = vega.changeset()
                          .insert(data_local)
                          .remove(vega.truthy);

      view.change('data-00', changeSet).run();
    });

    // change data element
    data_text.innerHTML = JSON.stringify(data_local.slice(0, 2), null, 2);
  }

  // whenever the input changes, run the updating function
  data_choice.addEventListener("input", on_data);

  // run the updating function *once* to initialize the input to the data
  on_data();
});



